'use strict';

module.exports = function defFunc(ajv) {
  ajv.addKeyword('deprecated', {
    validate: function validate(schema) {
      throw new Error(schema.description);
    },

    metaSchema: {
      type: 'object',
      properties: {
        description: { type: 'string' }
      },
      required: ['description'],
      additionalProperties: false
    },
    errors: false
  });

  return ajv;
};